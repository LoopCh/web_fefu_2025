{% extends "../base.html" %}

{% block title %}Курс {{ course.title }}{% endblock %}
{% block heading %}{{ course.title }}{% endblock %}

{% block content %}
  <div>
    <p><strong>Курс: </strong> {{ course.slug }}</p>
    <p><strong>Название: </strong> {{ course.title }}</p>
    <p><strong>Описание: </strong> {{ course.description }}</p>
    <p><strong>Уровень: </strong> {{ course.get_level_display }}</p>
    <p><strong>Инструктор: </strong> 
      {% if course.instructor %}
        {{ course.instructor.full_name }} ({{ course.instructor.specialization }})
      {% else %}
        Не назначен
      {% endif %}
    </p>
    <p><strong>Длительность: </strong> {{ course.duration }} часов</p>
    <p><strong>Цена: </strong>
      {% if course.price == 0 %}
        Бесплатно
      {% else %}
        {{ course.price }} руб.
      {% endif %}
    </p>
    <p><strong>Записано студентов: </strong> {{ course.enrolled_count }} / {{ course.max_students }}</p>
    
    {% if course.has_available_seats %}
      <div style="margin-top: 15px; padding: 10px; background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 5px;">
        <p style="margin: 0; color: #155724;">✓ На курсе есть свободные места!</p>
      </div>
    {% else %}
      <div style="margin-top: 15px; padding: 10px; background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px;">
        <p style="margin: 0; color: #856404;">⚠ Все места заняты.</p>
      </div>
    {% endif %}
  </div>

  <div style="margin-top: 20px;">
    {% if course.has_available_seats %}
      <a href="{% url 'fefu_lab:enroll_student' course.slug %}" style="display: inline-block; padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px; margin-right: 10px;">Записаться на курс</a>
    {% endif %}
    <a href="{% url 'fefu_lab:course_list' %}" style="display: inline-block; padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px;">Все курсы</a>
  </div>
{% endblock %}
